(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{240:function(t,e,n){var content=n(277);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("d2600514",content,!0,{sourceMap:!1})},244:function(t,e,n){var content=n(322);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("3e3a3098",content,!0,{sourceMap:!1})},245:function(t,e,n){var content=n(328);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("579e2c05",content,!0,{sourceMap:!1})},246:function(t,e,n){"use strict";n(234);var o=n(261),r={props:{nodeData:Array,linkData:Array},data:function(){return{svg:null,simulation:null,node:null,link:null,width:0,height:0}},mounted:function(){var t=this;this.svg=o.h(this.$refs.graph),this.simulation=o.g(this.nodeData).force("link",o.e(this.linkData).id((function(t){return t.id})).distance(150)).force("charge",o.f().strength(-200)).force("colide",o.d().radius(25)).force("center",o.c(200,200)),this.link=this.svg.append("g").selectAll(".link"),this.node=this.svg.append("g").selectAll(".node"),this.simulation.on("tick",(function(){t.link.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),t.node.attr("r",8).attr("cx",(function(e){return e.x=Math.max(0,Math.min(e.x,t.width))})).attr("cy",(function(e){return e.y=Math.max(0,Math.min(e.y,t.height))})).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"}))})),this.onDataChange(),this.onResize()},watch:{nodeData:function(){this.onDataChange()},linkData:function(){this.onDataChange()}},methods:{onDataChange:function(){var t=this;this.node=this.node.data(this.nodeData,(function(t){return t.id})),this.node.exit().remove();var e=this.node.enter().append("g").attr("class","node").call(this.drag(this.simulation)).on("click",(function(e){return t.onNodeClick(e)})).on("mouseover",(function(e){t.node.attr("opacity",(function(t){return t==e?1:.2}))})).on("mouseout",(function(){t.node.attr("opacity",1)}));e.append("text").attr("dx",12).attr("dy","0.35em").attr("font-size",16).attr("color","#0001").attr("opacity",.8).text((function(t){return t.label})),e.append("circle").attr("r",10).attr("fill","orange"),this.node=e.merge(this.node),this.link=this.link.data(this.linkData,(function(t){return t.source+"-"+t.target})),this.link.exit().remove();var n=this.link.enter().append("line").attr("stroke-width",1).attr("stroke","#999").attr("stroke-opacity",.4);this.link=n.merge(this.link),this.simulation.nodes(this.nodeData),this.simulation.force("link").links(this.linkData),this.simulation.alpha(1).restart()},getNeighbors:function(t){return this.linkData.reduce((function(e,link){return link.target.id==t.id?e.push(link.source.id):link.source.id==t.id&&e.push(link.target.id),e}),[t.id])},drag:function(t){return o.a().on("start",(function(e){o.b.active||t.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y})).on("drag",(function(t){t.fx=o.b.x,t.fy=o.b.y})).on("end",(function(e){o.b.active||t.alphaTarget(0),e.fx=null,e.fy=null}))},onResize:function(){this.width=this.$el.offsetWidth,this.height=this.$el.offsetHeight,this.recenter()},recenter:function(){this.simulation&&(this.simulation.force("center",o.c(this.width/2,this.height/2)),this.simulation.tick())},onNodeClick:function(t){this.$emit("on-node-click",t.id)}}},c=n(39),l=n(249),d=n.n(l),h=n(235),component=Object(c.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"resize",rawName:"v-resize",value:this.onResize,expression:"onResize"}]},[e("svg",{ref:"graph",attrs:{width:this.width,height:this.height}})])}),[],!1,null,null,null);e.a=component.exports;d()(component,{Resize:h.a})},276:function(t,e,n){"use strict";var o=n(240);n.n(o).a},277:function(t,e,n){(t.exports=n(37)(!1)).push([t.i,".content[data-v-4364a482]{display:flex;align-items:center;border-bottom:1px;border-bottom-style:solid;border-color:rgba(0,0,0,.06667)}.content[data-v-4364a482],.label[data-v-4364a482]{vertical-align:middle}",""])},321:function(t,e,n){"use strict";var o=n(244);n.n(o).a},322:function(t,e,n){(t.exports=n(37)(!1)).push([t.i,".actions[data-v-181c41b0]{display:flex;justify-content:space-between;width:100%}",""])},327:function(t,e,n){"use strict";var o=n(245);n.n(o).a},328:function(t,e,n){(t.exports=n(37)(!1)).push([t.i,".application[data-v-17a399bc]{display:flex;flex-direction:column-reverse;padding:15px;height:100vh;justify-content:space-between}@media only screen and (min-width:768px){.application[data-v-17a399bc]{align-items:start;display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));grid-template-rows:auto auto;grid-gap:10px}}.resource-list[data-v-17a399bc]{grid-column:1/2;grid-row:-1}@media only screen and (min-width:768px){.resource-list[data-v-17a399bc]{grid-row:1;grid-column:1}}.graph[data-v-17a399bc]{width:100vw;height:100vh;position:absolute;top:0;left:0}.selectedResource[data-v-17a399bc]{grid-column:-3/span 2;max-height:100%;overflow:auto;z-index:1}",""])},338:function(t,e,n){"use strict";n.r(e);n(139),n(6),n(140);var o=n(74),r={props:["resourceList"],data:function(){return{opened:0,query:"",model:null,show:!0,searchResult:[],loading:!1,debouncedSearch:o.debounce(this.search,500)}},methods:{onQueryChange:function(t){t&&t.length>=2&&this.debouncedSearch(t)},search:function(t){var e=this;this.loading=!0,this.$dbpediaService.search(t).then((function(t){e.searchResult=t})).finally((function(){return e.loading=!1}))},onAddResource:function(t){var e=o.find(this.searchResult,(function(e){return e.uri==t}));e&&this.$emit("on-add",e),this.model=null},filter:function(t,e,n){return new RegExp(".*"+e+".*").test(n)}},watch:{query:function(t){this.onQueryChange(t)}}},c=(n(276),n(39)),l=n(58),d=n.n(l),h=n(337),f=n(331),v=n(332),m=n(333),x=n(334),y=n(335),k=n(256),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-expansion-panels",{attrs:{accordion:""},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[n("v-expansion-panel",[n("v-expansion-panel-header",[t._v("Selected resources")]),t._v(" "),n("v-expansion-panel-content",[t._l(t.resourceList,(function(e,i){return[n("div",{key:e.uri,staticClass:"content"},[n("span",{staticStyle:{"flex-grow":"0","margin-right":"10px"}},[n("v-btn",{attrs:{icon:"","x-small":"",color:"error"}},[n("v-icon",{on:{click:function(e){return e.preventDefault(),t.$emit("on-remove",i)}}},[t._v("mdi-close")])],1)],1),t._v(" "),n("span",{staticClass:"label"},[t._v(t._s(e.label))])])]})),t._v(" "),n("v-autocomplete",{attrs:{items:t.searchResult,loading:t.loading,"search-input":t.query,"no-filter":"","item-text":"label","item-value":"uri","hide-no-data":""},on:{"update:searchInput":function(e){t.query=e},"update:search-input":function(e){t.query=e}},scopedSlots:t._u([{key:"append-outer",fn:function(){return[n("v-btn",{attrs:{fab:"",outlined:"","x-small":"",color:"primary"},on:{click:function(e){return t.onAddResource(t.model)}}},[n("v-icon",[t._v("mdi-plus")])],1)]},proxy:!0}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],2)],1)],1)],1)}),[],!1,null,"4364a482",null),R=component.exports;d()(component,{VAutocomplete:h.a,VBtn:f.a,VExpansionPanel:v.a,VExpansionPanelContent:m.a,VExpansionPanelHeader:x.a,VExpansionPanels:y.a,VIcon:k.a});n(100);var w={props:["resource"],data:function(){return{loading:!1,resourceData:null}},methods:{onResourceChange:function(t){var e=this;t?this.$dbpediaService.shortInfo(t).then((function(t){return t?e.resourceData=t:e.$emit("close")})).catch((function(t){console.log(t),e.resourceData=null,e.$emit("close")})):(this.resourceData=null,this.$emit("close"))},close:function(){this.$emit("close")},add:function(){this.resourceData&&this.$emit("on-add",{uri:this.resource,label:this.resourceData.label})}},watch:{resource:function(t){this.onResourceChange(t)}}},_=(n(321),n(250)),C=n(341),D=n(260),$=Object(c.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.resource?n("v-card",{staticClass:"wrap"},[n("div",{staticClass:"actions"},[n("v-btn",{staticClass:"close-button",attrs:{text:"",icon:"",color:"green lighten-2",small:""},on:{click:t.add}},[n("v-icon",[t._v("mdi-plus")])],1),t._v(" "),n("v-btn",{staticClass:"close-button",attrs:{text:"",icon:"",color:"red lighten-2",small:""},on:{click:t.close}},[n("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),t.resourceData?n("div",{staticClass:"content"},[t.resourceData.thumbnail?n("v-img",{attrs:{src:t.resourceData.thumbnail,contain:""}}):t._e(),t._v(" "),n("h4",[t._v(t._s(t.resourceData.label))]),t._v(" "),n("p",[t._v(t._s(t.resourceData.abstract))])],1):n("div",{staticClass:"content"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)]):t._e()}),[],!1,null,"181c41b0",null),S=$.exports;d()($,{VBtn:f.a,VCard:_.a,VIcon:k.a,VImg:C.a,VProgressCircular:D.a});var V={components:{SearchComponent:R,SelectedResource:S,Graph:n(246).a},data:function(){return{selectedResource:null}},methods:{onAddResource:function(t){var e=this;this.$store.dispatch("addSelectedResource",t),this.$dbpediaService.getResourceObject(t.uri).then((function(n){e.$store.dispatch("addResourceInfo",{key:t.uri,data:n})})),this.$dbpediaService.getResourceSubject(t.uri).then((function(n){e.$store.dispatch("addSubjectInfo",{key:t.uri,data:n})})),this.selectedResource=null},onRemoveResource:function(i){this.$store.commit("removeResource",i)},onNodeClick:function(t){this.selectedResource=t}},computed:{selectedResources:function(){return this.$store.state.selectedResources},resourceNodes:function(){return this.$store.getters.graphNodes},resourceLinks:function(){return this.$store.getters.graphLinks}}},A=(n(327),Object(c.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"application"},[n("SearchComponent",{staticClass:"resourceList",attrs:{resourceList:t.selectedResources},on:{"on-add":t.onAddResource,"on-remove":t.onRemoveResource}}),t._v(" "),n("SelectedResource",{staticClass:"selectedResource",attrs:{resource:t.selectedResource},on:{close:function(e){t.selectedResource=null},"on-add":t.onAddResource}}),t._v(" "),n("Graph",{staticClass:"graph",attrs:{"node-data":t.resourceNodes,"link-data":t.resourceLinks},on:{"on-node-click":t.onNodeClick}})],1)}),[],!1,null,"17a399bc",null));e.default=A.exports}}]);
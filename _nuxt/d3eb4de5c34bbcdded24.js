(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{222:function(e,t,n){var content=n(255);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(41).default)("d2600514",content,!0,{sourceMap:!1})},230:function(e,t,n){var content=n(310);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(41).default)("3e3a3098",content,!0,{sourceMap:!1})},231:function(e,t,n){var content=n(316);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(41).default)("5a7e3f35",content,!0,{sourceMap:!1})},234:function(e,t,n){"use strict";n(226);var o=n(249),r={props:{nodeData:Array,linkData:Array},data:function(){return{svg:null,simulation:null,node:null,link:null,width:0,height:0}},mounted:function(){var e=this;this.svg=o.h(this.$refs.graph),this.simulation=o.g(this.nodeData).force("link",o.e(this.linkData).id((function(e){return e.id})).distance(150)).force("charge",o.f().strength(-200)).force("colide",o.d().radius(25)).force("center",o.c(200,200)),this.link=this.svg.append("g").selectAll(".link"),this.node=this.svg.append("g").selectAll(".node"),this.simulation.on("tick",(function(){e.link.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),e.node.attr("r",8).attr("cx",(function(t){return t.x=Math.max(0,Math.min(t.x,e.width))})).attr("cy",(function(t){return t.y=Math.max(0,Math.min(t.y,e.height))})).attr("transform",(function(e){return"translate("+e.x+","+e.y+")"}))})),this.onDataChange(),this.onResize()},watch:{nodeData:function(){this.onDataChange()},linkData:function(){this.onDataChange()}},methods:{onDataChange:function(){var e=this;this.node=this.node.data(this.nodeData,(function(e){return e.id})),this.node.exit().remove();var t=this.node.enter().append("g").attr("class","node").call(this.drag(this.simulation)).on("click",(function(t){return e.onNodeClick(t)})).on("mouseover",(function(t){e.node.attr("opacity",(function(e){return e==t?1:.2}))})).on("mouseout",(function(){e.node.attr("opacity",1)}));t.append("text").attr("dx",12).attr("dy","0.35em").attr("font-size",16).attr("color","#0001").attr("opacity",.8).text((function(e){return e.label})),t.append("circle").attr("r",10).attr("fill","orange"),this.node=t.merge(this.node),this.link=this.link.data(this.linkData,(function(e){return e.source+"-"+e.target})),this.link.exit().remove();var n=this.link.enter().append("line").attr("stroke-width",1).attr("stroke","#999").attr("stroke-opacity",.4);this.link=n.merge(this.link),this.simulation.nodes(this.nodeData),this.simulation.force("link").links(this.linkData),this.simulation.alpha(1).restart()},getNeighbors:function(e){return this.linkData.reduce((function(t,link){return link.target.id==e.id?t.push(link.source.id):link.source.id==e.id&&t.push(link.target.id),t}),[e.id])},drag:function(e){return o.a().on("start",(function(t){o.b.active||e.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y})).on("drag",(function(e){e.fx=o.b.x,e.fy=o.b.y})).on("end",(function(t){o.b.active||e.alphaTarget(0),t.fx=null,t.fy=null}))},onResize:function(){this.width=this.$el.offsetWidth,this.height=this.$el.offsetHeight,this.recenter()},recenter:function(){this.simulation&&(this.simulation.force("center",o.c(this.width/2,this.height/2)),this.simulation.tick())},onNodeClick:function(e){this.$emit("on-node-click",e.id)}}},c=n(38),l=n(247),d=n.n(l),h=n(229),component=Object(c.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"resize",rawName:"v-resize",value:this.onResize,expression:"onResize"}]},[t("svg",{ref:"graph",attrs:{width:this.width,height:this.height}})])}),[],!1,null,null,null);t.a=component.exports;d()(component,{Resize:h.a})},254:function(e,t,n){"use strict";var o=n(222);n.n(o).a},255:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".content[data-v-4364a482]{display:flex;align-items:center;border-bottom:1px;border-bottom-style:solid;border-color:rgba(0,0,0,.06667)}.content[data-v-4364a482],.label[data-v-4364a482]{vertical-align:middle}",""])},309:function(e,t,n){"use strict";var o=n(230);n.n(o).a},310:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".actions[data-v-181c41b0]{display:flex;justify-content:space-between;width:100%}",""])},315:function(e,t,n){"use strict";var o=n(231);n.n(o).a},316:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".application[data-v-71e8d2e7]{display:flex;flex-direction:column-reverse;height:100vh;justify-content:space-between;margin:-58px 15px 0;padding-top:58px}@media only screen and (min-width:768px){.application[data-v-71e8d2e7]{margin-top:-68px;padding-top:68px;align-items:start;display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));grid-template-rows:auto auto;grid-gap:10px}}.resource-list[data-v-71e8d2e7]{grid-column:1/2;grid-row:-1}@media only screen and (min-width:768px){.resource-list[data-v-71e8d2e7]{grid-row:1;grid-column:1}}.graph[data-v-71e8d2e7]{width:100vw;height:100vh;position:absolute;top:0;left:0}.selectedResource[data-v-71e8d2e7]{grid-column:-3/span 2;max-height:100%;overflow:auto;z-index:1}",""])},333:function(e,t,n){"use strict";n.r(t);n(138),n(7),n(139);var o=n(70),r={props:["resourceList"],data:function(){return{opened:0,query:"",model:null,show:!0,searchResult:[],loading:!1,debouncedSearch:o.debounce(this.search,500)}},methods:{onQueryChange:function(e){e&&e.length>=2&&this.debouncedSearch(e)},search:function(e){var t=this;this.loading=!0,this.$dbpediaService.search(e).then((function(e){t.searchResult=e})).finally((function(){return t.loading=!1}))},onAddResource:function(e){var t=o.find(this.searchResult,(function(t){return t.uri==e}));t&&this.$emit("on-add",t),this.model=null},filter:function(e,t,n){return new RegExp(".*"+t+".*").test(n)}},watch:{query:function(e){this.onQueryChange(e)}}},c=(n(254),n(38)),l=n(56),d=n.n(l),h=n(332),f=n(325),v=n(326),m=n(327),x=n(328),y=n(329),k=n(238),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-expansion-panels",{attrs:{accordion:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("Selected resources")]),e._v(" "),n("v-expansion-panel-content",[e._l(e.resourceList,(function(t,i){return[n("div",{key:t.uri,staticClass:"content"},[n("span",{staticStyle:{"flex-grow":"0","margin-right":"10px"}},[n("v-btn",{attrs:{icon:"","x-small":"",color:"error"}},[n("v-icon",{on:{click:function(t){return t.preventDefault(),e.$emit("on-remove",i)}}},[e._v("mdi-close")])],1)],1),e._v(" "),n("span",{staticClass:"label"},[e._v(e._s(t.label))])])]})),e._v(" "),n("v-autocomplete",{attrs:{items:e.searchResult,loading:e.loading,"search-input":e.query,"no-filter":"","item-text":"label","item-value":"uri","hide-no-data":""},on:{"update:searchInput":function(t){e.query=t},"update:search-input":function(t){e.query=t}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-btn",{attrs:{fab:"",outlined:"","x-small":"",color:"primary"},on:{click:function(t){return e.onAddResource(e.model)}}},[n("v-icon",[e._v("mdi-plus")])],1)]},proxy:!0}]),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],2)],1)],1)],1)}),[],!1,null,"4364a482",null),R=component.exports;d()(component,{VAutocomplete:h.a,VBtn:f.a,VExpansionPanel:v.a,VExpansionPanelContent:m.a,VExpansionPanelHeader:x.a,VExpansionPanels:y.a,VIcon:k.a});n(97);var w={props:["resource"],data:function(){return{loading:!1,resourceData:null}},methods:{onResourceChange:function(e){var t=this;e?this.$dbpediaService.shortInfo(e).then((function(e){return e?t.resourceData=e:t.$emit("close")})).catch((function(e){console.log(e),t.resourceData=null,t.$emit("close")})):(this.resourceData=null,this.$emit("close"))},close:function(){this.$emit("close")},add:function(){this.resourceData&&this.$emit("on-add",{uri:this.resource,label:this.resourceData.label})}},watch:{resource:function(e){this.onResourceChange(e)}}},_=(n(309),n(330)),C=n(337),D=n(246),$=Object(c.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.resource?n("v-card",{staticClass:"wrap"},[n("div",{staticClass:"actions"},[n("v-btn",{staticClass:"close-button",attrs:{text:"",icon:"",color:"green lighten-2",small:""},on:{click:e.add}},[n("v-icon",[e._v("mdi-plus")])],1),e._v(" "),n("v-btn",{staticClass:"close-button",attrs:{text:"",icon:"",color:"red lighten-2",small:""},on:{click:e.close}},[n("v-icon",[e._v("mdi-close")])],1)],1),e._v(" "),e.resourceData?n("div",{staticClass:"content"},[e.resourceData.thumbnail?n("v-img",{attrs:{src:e.resourceData.thumbnail,contain:""}}):e._e(),e._v(" "),n("h4",[e._v(e._s(e.resourceData.label))]),e._v(" "),n("p",[e._v(e._s(e.resourceData.abstract))])],1):n("div",{staticClass:"content"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)]):e._e()}),[],!1,null,"181c41b0",null),S=$.exports;d()($,{VBtn:f.a,VCard:_.a,VIcon:k.a,VImg:C.a,VProgressCircular:D.a});var V={components:{SearchComponent:R,SelectedResource:S,Graph:n(234).a},data:function(){return{selectedResource:null}},methods:{onAddResource:function(e){var t=this;this.$store.dispatch("addSelectedResource",e),this.$dbpediaService.getResourceObject(e.uri).then((function(n){t.$store.dispatch("addResourceInfo",{key:e.uri,data:n})})),this.selectedResource=null},onRemoveResource:function(i){this.$store.commit("removeResource",i)},onNodeClick:function(e){this.selectedResource=e}},computed:{selectedResources:function(){return this.$store.state.selectedResources},resourceNodes:function(){return this.$store.getters.graphNodes},resourceLinks:function(){return this.$store.getters.graphLinks}}},A=(n(315),Object(c.a)(V,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"application"},[n("SearchComponent",{staticClass:"resourceList",attrs:{resourceList:e.selectedResources},on:{"on-add":e.onAddResource,"on-remove":e.onRemoveResource}}),e._v(" "),n("SelectedResource",{staticClass:"selectedResource",attrs:{resource:e.selectedResource},on:{close:function(t){e.selectedResource=null},"on-add":e.onAddResource}}),e._v(" "),n("Graph",{staticClass:"graph",attrs:{"node-data":e.resourceNodes,"link-data":e.resourceLinks},on:{"on-node-click":e.onNodeClick}})],1)}),[],!1,null,"71e8d2e7",null));t.default=A.exports}}]);